(this["webpackJsonpdw-tap-app"]=this["webpackJsonpdw-tap-app"]||[]).push([[0],{1469:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),o=a.n(i),l=(a(645),a(147)),s=a(148),c=a(151),p=a(150),m=(a(646),a(1520)),u=a(1521),d=a(1516),h=a(1522),f=a(622),b=a.n(f),g=a(236),E=a(623),v=a.n(E),w=a(63),y=a.n(w),k=a(49),S=a.n(k),C=a(625),O=a.n(C),j=function(e){return Object(g.usePromiseTracker)().promiseInProgress&&r.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",zIndex:"9999",transform:"translate(-50%, -50%)"}},r.a.createElement(O.a,{type:"ThreeDots",color:"grey",height:"100",width:"100"}))},N=a(13),W=a(1518),R=a(1509),I=a(1471),P=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.state={open:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(W.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:this.state.open,onClose:this.handleClose,closeAfterTransition:!0,BackdropComponent:R.a,BackdropProps:{timeout:500}},r.a.createElement(I.a,{in:this.state.open},r.a.createElement("div",{className:e.paper,id:"plotly"}))))}}]),a}(n.Component),x=Object(N.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(P),z=a(626),L=a(1519),q=a(1523),A=a(1512),B=a(627),D=a.n(B),T=a(1517),_=a(1525),M=a(1524),Y=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).prepareRequest=function(t,a){return"http://dw-tap.nrel.gov/v1/windrose?height="+e.state.height+"m&lat="+t+"&lon="+a+"&start_date="+y.a.join(y.a.split(e.state.startdate,"-",3),"")+"&stop_date="+y.a.join(y.a.split(e.state.stopdate,"-",3),"")+"&vertical_interpolation="+e.state.vertinterp+"&spatial_interpolation="+e.state.spatinterp},e.toggleOpen=function(){e.setState({open:!e.state.open})},e.settingsChange=function(t){e.setState(Object(z.a)({},t.target.name,t.target.value))},e.state={open:!1,startdate:"2007-01-01",stopdate:"2007-01-02",vertinterp:"nearest",spatinterp:"idw",height:30},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{color:"default","aria-label":"settings",onClick:this.toggleOpen,id:"fab"},r.a.createElement(D.a,null)),r.a.createElement(q.a,{anchor:"left",open:this.state.open,onClose:this.toggleOpen},r.a.createElement("div",{id:"controls"},r.a.createElement("form",{noValidate:!0},r.a.createElement(M.a,{id:"vertinterp-label"},"Vertical Interpolation *"),r.a.createElement(T.a,{required:!0,labelId:"vertinterp-label",id:"vertinterp",defaultValue:"nearest",value:this.state.vertinterp,name:"vertinterp",onChange:this.settingsChange},r.a.createElement(_.a,{value:"nearest"},"Nearest Neighbor"),r.a.createElement(_.a,{value:"linear"},"Linear"),r.a.createElement(_.a,{value:"neutral_power"},"Neutral Power Law"),r.a.createElement(_.a,{value:"stability_power"},"Stability-Corrected Power Law")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{id:"spatinterp-label"},"Spatial Interpolation *"),r.a.createElement(T.a,{required:!0,labelId:"spatinterp-label",id:"spatinterp",defaultValue:"idw",name:"spatinterp",value:this.state.spatinterp,onChange:this.settingsChange},r.a.createElement(_.a,{value:"nearest"},"Nearest Neighbor"),r.a.createElement(_.a,{value:"linear"},"Linear"),r.a.createElement(_.a,{value:"cubic"},"Cubic"),r.a.createElement(_.a,{value:"idw"},"Inverse Distance Weighting")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,id:"startdate",label:"Start Date",type:"date",name:"startdate",value:this.state.startdate,InputLabelProps:{shrink:!0},onChange:this.settingsChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,id:"stopdate",label:"Stop Date",type:"date",name:"stopdate",value:this.state.stopdate,InputLabelProps:{shrink:!0},onChange:this.settingsChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{required:!0,id:"height",label:"Height (m)",name:"height",value:this.state.height,onChange:this.settingsChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"disclaimer"},"Note: Performance may degrade with increased time between start and stop date. This limitation will be addressed in a future release."))))}}]),a}(n.Component);var V=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).markerRef=Object(n.createRef)(),e.mapRef=Object(n.createRef)(),e.modalRef=Object(n.createRef)(),e.drawerRef=Object(n.createRef)(),e.handleLoad=function(){e.markerRef.current.leafletElement.openPopup()},e.handleClick=function(t){e.markerRef.current.leafletElement.setLatLng(t.latlng),e.updatePosition()},e.updatePosition=function(){var t=e.markerRef.current.leafletElement,a=t.getLatLng();e.setState({lat:a.lat,lng:a.lng}),e.mapRef.current.leafletElement.panTo(a);var n=e.drawerRef.current.prepareRequest(e.state.lat.toString(),e.state.lng.toString());Object(g.trackPromise)(b.a.get(n).then((function(e){var n=S.a.popup().setContent("You clicked the map at "+a.toString());t.bindPopup(n).openPopup(),function(e,t,a){var n=[{r:y.a.zipWith(y.a.zipWith(e[">20 m/s"],e["10-20 m/s"],e["5-10 m/s"],e["<5 m/s"],(function(e,t,a,n){return e+t+a+n})),e.Any,(function(e,t){return e*(t/100)})),theta:["North","N-E","East","S-E","South","S-W","West","N-W"],name:"> 20 m/s",marker:{color:"rgb(106,81,163)"},type:"barpolar"},{r:y.a.zipWith(y.a.zipWith(e["10-20 m/s"],e["5-10 m/s"],e["<5 m/s"],(function(e,t,a){return e+t+a})),e.Any,(function(e,t){return e*(t/100)})),theta:["North","N-E","East","S-E","South","S-W","West","N-W"],name:"10-20 m/s",marker:{color:"rgb(158,154,200)"},type:"barpolar"},{r:y.a.zipWith(y.a.zipWith(e["5-10 m/s"],e["<5 m/s"],(function(e,t){return e+t})),e.Any,(function(e,t){return e*(t/100)})),theta:["North","N-E","East","S-E","South","S-W","West","N-W"],name:"5-10 m/s",marker:{color:"rgb(203,201,226)"},type:"barpolar"},{r:y.a.zipWith(e["<5 m/s"],e.Any,(function(e,t){return e*(t/100)})),theta:["North","N-E","East","S-E","South","S-W","West","N-W"],name:"< 5 m/s",marker:{color:"rgb(242,240,247)"},type:"barpolar"}];v.a.newPlot("plotly",n,{title:"Wind Speed Distribution",font:{size:12},legend:{font:{size:10}},polar:{barmode:"overlay",bargap:0,radialaxis:{ticksuffix:"%",angle:45,dtick:20},angularaxis:{direction:"clockwise"}}})}(e.data)})).catch((function(e){console.log(e)}))),e.modalRef.current.handleOpen()},e.state={lat:39.9140131,lng:-105.2176275,zoom:13,openModal:!1,openDrawer:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("load",this.handleLoad)}},{key:"render",value:function(){var e=[this.state.lat,this.state.lng];return r.a.createElement("div",{className:"map-container"},r.a.createElement(m.a,{center:e,zoom:this.state.zoom,ref:this.mapRef,onClick:this.handleClick},r.a.createElement(u.a,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw"}),r.a.createElement(d.a,{position:e,draggable:"true",onDragend:this.updatePosition,ref:this.markerRef},r.a.createElement(h.a,null,"To display the wind resource at a location, click somewhere on the map or drag this marker."))),r.a.createElement(Y,{ref:this.drawerRef}),r.a.createElement(j,null),r.a.createElement(x,{ref:this.modalRef}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},640:function(e,t,a){e.exports=a(1469)},645:function(e,t,a){},646:function(e,t,a){},940:function(e,t){}},[[640,1,2]]]);
//# sourceMappingURL=main.f0d88566.chunk.js.map